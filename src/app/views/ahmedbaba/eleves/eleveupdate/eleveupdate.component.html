<mat-card class="p-0">
  <mat-card-title>
    <div class="card-title-text">Modifier un élève</div>
    <mat-divider></mat-divider>
  </mat-card-title>

  <mat-card-content>
    <form [formGroup]="eleveForm" (ngSubmit)="updateEleve()">

      <!-- IMAGE STYLE CHATGPT -->
      <div fxLayout="row" fxLayoutAlign="center center" style="margin-bottom: 20px;">
        <div class="photo-container" (click)="fileInput.click()">

          <!-- IMAGE ACTUELLE OU PREVIEW -->
          <img  
            [src]="previewImage || (apiUrl + '/profile/' + eleve?.cheminProfil)" 
            alt="photo"
            class="photo-preview"
          />

          <!-- OVERLAY -->
          <div class="photo-overlay">
            Changer la photo
          </div>

        </div>

        <!-- INPUT FILE CACHÉ -->
        <input 
          type="file"
          #fileInput
          id="fileInputHidden"
          (change)="onFileSelected($event)"
          accept="image/*"
          style="display:none"
        />
      </div>

      <!-- CHAMP PRÉNOM + NOM -->
      <div fxLayout="row" fxLayoutGap="16px" fxLayoutAlign="start center">

        <mat-form-field class="full-width">
          <mat-label>Prénom</mat-label>
          <input matInput formControlName="prenom">
        </mat-form-field>

        <mat-form-field class="full-width">
          <mat-label>Nom</mat-label>
          <input matInput formControlName="nom">
        </mat-form-field>

      </div>

      <!-- DATE NAISSANCE + ADRESSE -->
      <div fxLayout="row" fxLayoutGap="16px" fxLayoutAlign="start center">

        <mat-form-field class="full-width">
          <mat-label>Date de naissance</mat-label>
          <input matInput [matDatepicker]="picker" formControlName="date_naissance">
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>

        <mat-form-field class="full-width">
          <mat-label>Adresse</mat-label>
          <input matInput formControlName="adresse">
        </mat-form-field>

      </div>

      <!-- TELEPHONE -->
      <div fxLayout="row" fxLayoutGap="16px" fxLayoutAlign="start center">

        <mat-form-field class="full-width">
          <mat-label>Téléphone</mat-label>
          <input matInput formControlName="telephone">
        </mat-form-field>

      </div>

      <!-- BOUTON -->
      <button mat-raised-button color="primary" type="submit">Enrégistrer</button>

    </form>
  </mat-card-content>
</mat-card>
